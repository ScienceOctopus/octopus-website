<hr style="margin-top: -10px;margin-bottom: 5px;">
<div class="row">
    <div class="col-sm-4">
        <center> <span class="fa fa-star fa-2x text-center" style="color:Tomato"></span>
            <p><a href='../../../../../blog/2018/02/07/2018-xx-xx_reproducible-blogposts/#reproducability-ratings' data-toggle="tooltip" data-placement="right" title="" data-original-title="Click for info" style='font-weight:bold;color:black;text-decoration:underline;' target='_blank'>Citable Author<i class="fa fa-question-circle "></i></a>
                <br>
                Martin John Hadley
                <br>
                (<a href="https://orcid.org/0000-0002-3039-6849" target="orcid.widget" rel="noopener noreferrer" style="vertical-align:top;"  target='_blank'><img src="../../../../../img/orcid_16x16.png" style="width:1em;margin-right:.2em;" alt="ORCID iD icon">orcid.org/0000-0002-3039-6849</a>)
        </center>
    </div>
    <div class="col-sm-4">
        <center> <span class="fa fa-star-half-o fa-2x text-center" style="color:Tomato"></span>
            <p><a href='../../../../../blog/2018/02/07/2018-xx-xx_reproducible-blogposts/#reproducability-ratings' data-toggle="tooltip" data-placement="right" title="" data-original-title="Click for info" style='font-weight:bold;color:black;text-decoration:underline;' target='_blank'>Citable Data<i class="fa fa-question-circle "></i></a>
                <br>
                Data from `WDI` via API
        </center>
    </div>
    <div class="col-sm-4">
        <center> <span class="fa fa-star-half-o fa-2x text-center" style="color:Tomato"></span>
            <p><a href='../../../../../blog/2018/02/07/2018-xx-xx_reproducible-blogposts/#reproducability-ratings' data-toggle="tooltip" data-placement="right" title="" data-original-title="Click for info" style='font-weight:bold;color:black;text-decoration:underline;' target='_blank'>Citable Code<i class="fa fa-question-circle "></i></a>
                <br>
                <a href="https://www.kaggle.com/stackoverflow/rquestions" target="orcid.widget" rel="noopener noreferrer" style="vertical-align:top;"  target='_blank'><img src="../../../../../img/GitHub-Mark-32px.png" style="width:1em;margin-right:.5em;" alt="ORCID iD icon">.Rmd on GitHub</a>
        </center>
    </div>
</div>

<hr style="margin-top: 5px;margin-bottom: 5px;">


<p>Writing reproducible code is hard. Ensuring code is legible and easy to understand is another feat in itself. Thatâ€™s why itâ€™s important for folks to follow well established code style guides whether developing packages, writing single use code or even blogposts. As I insist on teaching best practices in all my training courses, it would be remiss of me not to follow my own advice when writing for this blog and elsewhere. This post will effectively become a checklist that I run through before publishing content here and elsewhere, split into three very different considerations:</p>
<ul>
<li>Code Style Guides</li>
<li>Data Visualisation Style Guides</li>
<li>Accessibility Style Guides</li>
</ul>
<div id="code-style-guides" class="section level2">
<h2>Code Style Guides</h2>
<p>In the #rstats community thereâ€™s pretty much a defacto coding standard, the code styles of RStudio which have recently been officially named the <a href="http://style.tidyverse.org/">tidyverse style guide</a>. Listing all of the myriad rules and best practices from the style guide is not only tedious itâ€™s really difficult to apply these rules ourselves to script files that are 100+ lines of code. Thankfully there are two awesome tools developed by RStudio that help make our lives easier:</p>
<div class="row">
<div class="col-sm-6">
<ul>
<li><code>styler</code>: effectively all this package does is re-indent your code files to conform to the <strong>tidyverse style guide</strong>. Install the package by running <code>install.packages(&quot;styler&quot;)</code> in your console. This will also install a number of Addins to RStudio (<a href="https://rstudio.github.io/rstudioaddins/">What are Addins?</a>) that can be used as shown in this GIF taken from the <a href="https://github.com/r-lib/styler" class="uri">https://github.com/r-lib/styler</a> repository.</li>
</ul>
</div>
<div class="col-sm-6">
<p><img src='../../../../../img/blog-images/2018-02-09_styler-reindent.gif' width='100%'></img></p>
</div>
</div>
<div class="row">
<div class="col-sm-6">
<ul>
<li><code>lintr</code>: analyses your code for non-conformity to the <strong>tidyverse style guide</strong> and provides advice on changes you should make. As of early February 2018, the CRAN-hosted version of the package does <em>not</em> have the RStudio Addins. Iâ€™m using the development version which is installed using <code>devtools::install_github(&quot;jimhester/lintr&quot;)</code>. The <code>lintr</code> Addin can then be used on <strong>saved</strong> files, including .Rmd files ðŸ˜„</li>
</ul>
</div>
<div class="col-sm-6">
<p><img src='../../../../../img/blog-images/2018-02-09_lintr-suggestions.png' width='100%'></img></p>
</div>
</div>
<p>Excitingly, RStudio are currently overhauling the error messages in their packages to confirm to the highly aspirational <a href="http://style.tidyverse.org/error-messages.html">tidyverse error message style guide</a>. Why is this exciting? Well, thereâ€™s an emphasis on providing concise <strong>human readable</strong> errors which should make it much easier to spot where and what errors are.</p>
<pre><code>    ## Old error message
    tibble(x = 1:2, y = 1:3, z = 1)
    #&gt; Error: Column `x` must be length 1 or 3, not 2 
    
    ## New error message
    tibble(x = 1:2, y = 1:3, z = 1)
    #&gt; Error: Columns must have consistent lengths: 
    #&gt; * Column `x` has length 2
    #&gt; * Column `y` has length 3</code></pre>
<p>TIâ€™m going to add the following entries to my pre-publishing checklist: <br> span&gt;<span class="fa fa-check-circle fa text-center" style="color:#62b97f"></span> Run the <code>styler</code> RStudio Addin on code chunks before publishing content</span> <br> <span><span class="fa fa-check-circle fa text-center" style="color:#62b97f"></span> Run the <code>lintr</code> RStudio Addin on .Rmd files before publishing and correct all non-conformities</span></p>
<p>Unfortunately, there are some things that the <strong>tidyverse style guide</strong> doesnâ€™t include that we really should consider when publishing RMarkdown files.</p>
<p><span><span class="fa fa-check-circle fa text-center" style="color:#62b97f"></span> Name every single code chunk to assist in debugging</span> <br> <span><span class="fa fa-check-circle fa text-center" style="color:#62b97f"></span> Where code chunks have the option <code>include=FALSE</code> ensure a comment is included to explain why.</span></p>
</div>
<div id="data-visualisation-style-guides" class="section level2">
<h2>Data Visualisation Style Guides</h2>
<p>Things get more difficult when it comes to style guides for visualisations. Thereâ€™s lots of dogma:</p>
<ul>
<li>Never use pie charts: the <a href="https://eagereyes.org/pie-charts">open-minded discussion of why is available here</a> and <a href="https://eagereyes.org/papers/a-pair-of-pie-chart-papers">investigative analysis of how to improve pie chart</a> from <a href="eagereyes.org" class="uri">eagereyes.org</a> is highly recommended.</li>
</ul>
<p>But most of my work involves the creation of data visualisations and finding</p>
<p>Proof reading text and data analysis directly after publishing usually yields more mistakes than</p>
<p>Look at this mess! Do I update?</p>
<div class="row">
<div class="col-sm-6">
<center>
<img src='../../../../../img/blog-images/2018-02-09_unordered-legend.jpg' width='100%' style='max-width:380px'/>
</center>
</div>
<div class="col-sm-6">
<center>
<img src='../../../../../img/blog-images/2018-02-09_ordered-legend.png' width='100%' style='max-width:380px'/>
</center>
</div>
</div>
<p>Hey</p>
<p>Styles are important! One of my early blogposts was <a href="https://twitter.com/martinjhnhadley/status/961316049164685312">fairly popular</a> but I just after Iâ€™d promoted it that the legend order was bad!</p>
<ul>
<li>Compare original to current</li>
</ul>
<p>So I decided to <a href="https://twitter.com/martinjhnhadley/status/961723207014379525">create a style guide</a>.</p>
</div>
<div id="accessibility-style-guides" class="section level2">
<h2>Accessibility Style Guides</h2>
<p><a href="https://accessibility.blog.gov.uk/2016/09/02/dos-and-donts-on-designing-for-accessibility/" class="uri">https://accessibility.blog.gov.uk/2016/09/02/dos-and-donts-on-designing-for-accessibility/</a></p>
<blockquote class="twitter-tweet" data-lang="en">
<p lang="en" dir="ltr">
Iâ€™m a blind twitter user. There are a lot of us out there. Increase your ability to reach us and help us interact with your pictures, itâ€™s really simple and makes a huge difference to our twitter experiance allowing us to see your images our way. Thanks for the description ðŸ˜Ž <a href="https://t.co/hCsjoFdmev">pic.twitter.com/hCsjoFdmev</a>
</p>
â€” Rob Long (<span class="citation">@_Red_Long</span>) <a href="https://twitter.com/_Red_Long/status/948577112860086272?ref_src=twsrc%5Etfw">January 3, 2018</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>The Hugo Theme currently used by the blog is the <a href="https://github.com/devcows/hugo-universal-theme">devcows/hugo-universal-theme</a> which is largely well designed and supports mobile devices thanks to Boostrap. Bootstrap is a framework for building responsive web pages, content <strong>reflows</strong> as the browser window changes in size. This means a lot of work has been done for me on making the site accessible.</p>
<p>However, the default font size of 14px for text in the site does not adhere to current ideas about</p>
<p>The default font size of the devcows theme is too small for readability.</p>
<p>I switched it up to 16x.</p>
<p>Checklist</p>
<ul>
<li>Check all code chunks have names</li>
<li>Check all legends are sensibly ordered</li>
<li>Check Twitter handles in Markdown links have been escaped, i.e. <span class="math display">\[\@martinjhnhadley\]</span></li>
</ul>
</div>
